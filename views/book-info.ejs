<%- include('partials/header') %>
<div class="container book-details">
  <div class="book-image">
    <!-- Display book cover using Open Library API, with fallback if not found -->
    <img
      src="https://covers.openlibrary.org/b/isbn/<%= book.isbn %>-M.jpg?default=false"
      alt="<%= book.title %> cover"
      onerror="this.onerror=null; this.src='/images/default-cover.jpg';"
    />
  </div>
  <div class="book-info">
    <h1><%= book.title %></h1>
    <h2>by <%= book.author %></h2>

    <p><strong>ISBN:</strong> <%= book.isbn %></p>
    <p>
      <strong>Date Read:</strong> <%= book.date_read ?
      book.date_read.toDateString() : 'N/A' %>
    </p>
    <p><strong>Rating:</strong> <%= book.rating %> / 10</p>
    <p><strong>Notes:</strong> <%= book.notes %></p>

    <div class="button-group">
      <!-- Edit Button -->
      <a href="/books/<%= book.id %>/edit" class="btn-edit">Edit</a>

      <!-- Delete Button -->
      <form action="/books/<%= book.id %>?_method=DELETE" method="POST">
        <button type="submit" class="btn-delete">Delete</button>
      </form>

      <!-- Back to Book List -->
      <a href="/" class="btn-back">Back to Book List</a>
    </div>
  </div>
</div>

</body>
</html>

